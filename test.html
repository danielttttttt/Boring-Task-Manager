<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; }
        input, select, textarea { width: 100%; padding: 8px; margin-bottom: 10px; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
        .task-item { border: 1px solid #ddd; padding: 10px; margin: 5px 0; }
    </style>
</head>
<body>
    <h1>Task Manager Test</h1>
    
    <form id="taskForm">
        <div class="form-group">
            <label for="taskTitle">Task Title</label>
            <input type="text" id="taskTitle" required>
        </div>
        
        <div class="form-group">
            <label for="taskPriority">Priority</label>
            <select id="taskPriority">
                <option value="low">Low</option>
                <option value="medium">Medium</option>
                <option value="high">High</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="taskCategory">Category</label>
            <select id="taskCategory">
                <option value="personal">Personal</option>
                <option value="work">Work</option>
                <option value="other">Other</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="taskDueDate">Due Date</label>
            <input type="date" id="taskDueDate">
        </div>
        
        <div class="form-group">
            <label for="taskDescription">Description</label>
            <textarea id="taskDescription" rows="3"></textarea>
        </div>
        
        <button type="submit">Add Task</button>
    </form>
    
    <h2>Tasks</h2>
    <div id="taskList"></div>
    
    <script>
        class SimpleTaskManager {
            constructor() {
                this.tasks = [];
                this.taskIdCounter = 1;
                this.init();
            }
            
            init() {
                this.taskForm = document.getElementById('taskForm');
                this.taskTitle = document.getElementById('taskTitle');
                this.taskPriority = document.getElementById('taskPriority');
                this.taskCategory = document.getElementById('taskCategory');
                this.taskDueDate = document.getElementById('taskDueDate');
                this.taskDescription = document.getElementById('taskDescription');
                this.taskList = document.getElementById('taskList');
                
                this.taskForm.addEventListener('submit', (e) => this.handleAddTask(e));
                
                console.log('Simple Task Manager initialized');
            }
            
            handleAddTask(e) {
                e.preventDefault();
                console.log('Form submitted');
                
                const task = {
                    id: this.taskIdCounter++,
                    title: this.taskTitle.value.trim(),
                    priority: this.taskPriority.value,
                    category: this.taskCategory.value,
                    dueDate: this.taskDueDate.value,
                    description: this.taskDescription.value.trim(),
                    completed: false,
                    createdAt: new Date().toISOString()
                };
                
                console.log('Task created:', task);
                
                if (task.title) {
                    this.tasks.push(task);
                    console.log('Task added. Total tasks:', this.tasks.length);
                    this.renderTasks();
                    this.taskForm.reset();
                } else {
                    alert('Please enter a task title');
                }
            }
            
            renderTasks() {
                this.taskList.innerHTML = '';
                this.tasks.forEach(task => {
                    const taskDiv = document.createElement('div');
                    taskDiv.className = 'task-item';
                    taskDiv.innerHTML = `
                        <strong>${task.title}</strong><br>
                        Priority: ${task.priority}<br>
                        Category: ${task.category}<br>
                        Due: ${task.dueDate || 'No due date'}<br>
                        Description: ${task.description || 'No description'}
                    `;
                    this.taskList.appendChild(taskDiv);
                });
            }
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new SimpleTaskManager();
        });
    </script>
</body>
</html>
